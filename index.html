<!DOCTYPE html>
<html>
<head>

	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!-- <link rel="stylesheet" href="style.css" type="text/css"></link> -->
	<script src='https://api.mapbox.com/mapbox-gl-js/v2.0.0/mapbox-gl.js'></script>
	<link href='https://api.mapbox.com/mapbox-gl-js/v2.0.0/mapbox-gl.css' rel='stylesheet'/>
	<script src="https://unpkg.com/deck.gl@^8.1.0/dist.min.js"></script>

</head>
<body>
	<style>
	.wrapper {
		max-width: 900px;
		padding: 20px;
	}
	h1 {
		text-align: center;
		font-weight: bolder;
	}
	.overlay {
		position: relative;
		top: 40px;
		background: green;
		border: 2px solid black;
	}



	</style>

<div class='wrapper'>
	<h1>Bachelors as highest educaton</h1>
	<div id ='map' style='height: 70vh;width:50vw; margin:auto;'>
			<div id ='rightbox'></div>
	</div>
</div>





<script>
mapboxgl.accessToken = 'pk.eyJ1IjoiaC13YXJyZW4iLCJhIjoiY2tnemJmaG54MDQzNjJ3cnN2Mmg1MmF2cyJ9.AMeyJ2g8BQiBQ2ZyH9OyJw';
var map = new mapboxgl.Map({
container: 'map',
style: 'mapbox://styles/h-warren/ckii8eyeg7aou19o5nutj992a?optimize=true', // style made in Studio
center: [-122.429, 47.218], // starting position [lng, lat]
zoom: 9 // starting zoom
});


map.on('load', function(){
// 	map style with the TotBach layer showing in Studio
	// map.addSource('bachelors', {
	// 	'type':'vector',
	// 	'url': 'mapbox://h-warren.9vwxtzld'
	// 	// 'data':	'HighestEd.json'
	// });
// 	style settings for the TotBach layer
	map.getLayer({
		'id':'TotBach',
		'type':'fill',
		'source':'bachelors',
// 			tile ID from data in layer
		'source-layer': 'HighestEd-1dw16x',
		'layout': {
			'visibility':'visible'
		},
		'paint': {
			'fill-color': [
				'step',
				['get','TotBach'],

				'#f0e6ff',
				0,
				'#d1b3ff',
				5.2,
				'#a366ff',
				10.5,
				'#751aff',
				13.2,
				'#5c00e6',
				17,
				'#290066',
				21.9,
				'black'
			],

			'fill-opacity': 0.8
		}
		});


// 	map made in Studio with the TotGradPro layer
	// map.addSource('graduate', {
	// 	'type': 'vector',
	// 	'url': 'mapbox://styles/h-warren/cki8a3ajg2thf19s0ud39an12'
	// 	});
	// map.addLayer({
	// 	'id': 'TotGradPro',
	// 	'type': 'fill',
	// 	'source': 'graduate',
	// 	'source-layer': 'h-warren.9vwxtzld',
	// 	'layout': {
	// 		'visibility': 'visible'
	// 	},
	// 	'paint': {
	// 		'fill-color': [
	// 			'step',
	// 			['get','TotGrad'],
	//
	// 			'#f4ebe6',
	// 			0,
	// 			'#e6b3b3',
	// 			3.2,
	// 			'#d27979',
	// 			5.2,
	// 			'#bf4040',
	// 			7.7,
	// 			'#732626',
	// 			12.2,
	// 			'#391313',
	// 			26.8,
	// 			'black'
	// 		],
	// 	'fill-opacity': 0.8
	//        }
	// });
});

	// var toggleableLayerIds = ['bachelors', 'graduate'];
	//
	// for (var i = 0; i < toggleableLayerIds.length; i++) {
	// 		var id = toggleableLayerIds[i];
	//
	// 		var link = document.createElement('a');
	// 		link.href = '#';
	// 		link.className = 'active';
	// 		link.textContent = id;
	//
	// 		link.onclickedLayer = function (e) {
	// 			var clickedLayer = this.textContent;
	// 			e.preventDefault();
	// 			e.stopPropagation();
	//
	// 			var visibility = map.getLayoutProperty(clickedLayer, 'visibility');
	//
	// 			if (visibility === 'visible') {
	// 				map.setLayoutProperty(clickedLayer, 'visibility', none);
	// 				this.className = '';
	// 			} else {
	// 				this.className = 'active';
	// 				map.setLayoutProperty(clickedLayer, 'visibility', 'visible');
	// 			}
	// 	};
	//
	// 		var layers = document.getElementById('menu');
	// 		layers.appendChild(link);
	// }



</script>






  </body>
</html>
