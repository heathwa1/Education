<!DOCTYPE html>
<html>
<head>

	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!-- <link rel="stylesheet" href="style.css" type="text/css"></link> -->
	<script src='https://api.mapbox.com/mapbox-gl-js/v2.0.0/mapbox-gl.js'></script>
	<link href='https://api.mapbox.com/mapbox-gl-js/v2.0.0/mapbox-gl.css' rel='stylesheet'/>
<style>
	body { margin: 0; padding: 0; }
		#map { position: absolute; top: 0; bottom: 0; width: 100%; }
		</style>
</head>
<body>
	<style>
			body {
				/* margin: 0; padding: 0; */
			}
			#map {

				top:100px;
				margin: 20px;
				width:50%;
			}
			.wrapper {
				max-width: 900px;
				margin-left: auto;
				margin-right: auto;
				padding-left: 20px;
				padding-right: 20px;
			}
			#highEd {
				top: 500px;
				margin: auto;
				text-align: center;
				font-size: 16px;
				width: 500px;

			}
			#menu {
				background: #fff;
				position: absolute;
				z-index: 1;
				top: 250px;
				right: 500px;
				border-radius: 3px;
				width: 150px;
				border: 1px solid rgba(0, 0, 0, 0.4);
				font-family: 'Open Sans', sans-serif;
			}

			#menu a {
				font-size: 13px;
				color: '#404040';
				display: block;
				margin: 0;
				padding: 0
				padding: 10px;
				text-decoration: none;
				border-bottom: 1px solid rgba(0, 0, 0, 0.25);
				text-align: center;
			}
			#menu a:last-child {
				border: none;
			}
			#menu a:hover {
				background-color: '#f8f8f8';
				color: '#404040';
			}
			#menu a.active{
				background-color: '#3887be';
				color: '#ffffff';
			}
			#menu a.active:hover {
				background: '#3074a4';
			}

	</style>
	<!-- <div class = wrapper></div> -->
	<section class= 'wrapper'>
		<div class = 'inner'>
			<h1>Highest Level of Education in Pierce County Tracts</h1>
			<nav id = 'menu'></nav>

			<div id = 'map'></div>
			<section>
				<p id='highEd'>During the pandemic students across the country have had to adjust to a new way of learning. The online platform for entertainment is popular, but the as an education platform it is lacking in performance. I am one of those students struggling with the lack of connection to classmates and professors as I try to navigate the school year in a seemingly lone manner.</p>

			</p>

</section>











<script>
mapboxgl.accessToken = 'pk.eyJ1IjoiaC13YXJyZW4iLCJhIjoiY2tnemJmaG54MDQzNjJ3cnN2Mmg1MmF2cyJ9.AMeyJ2g8BQiBQ2ZyH9OyJw';
var map = new mapboxgl.Map({
container: 'map',
style: 'mapbox://styles/mapbox/light-v10',
// 'mapbox://styles/h-warren/ckii8eyeg7aou19o5nutj992a?optimize=true', // style made in Studio
center: [-122.429, 47.218], // starting position [lng, lat]
zoom: 10 // starting zoom
});


map.on('load', function(){
	// map style with the TotBach layer showing in Studio
	map.addSource('bachelors', {
			'type':'vector',
			'url':'mapbox://h-warren.5mbwlqr0'

		// 'data':	'HighestEd.json'
	});
	// style settings for the TotBach layer
	map.addLayer({
			'id':'Bachelors',
			'type':'circle',
			'source': 'bachelors',
			'source-layer':'bachPts_prj-5t1ofb',
			'layout': {
				'visibility':'visible'
			},
			'paint': {
				'circle-color': 'purple',
				'circle-radius': {
					'base': 1.5,
					'stops': [[9,1],[11,.5]]
				},
				'circle-opacity': 0.5
			},
			'filter': ['==', '$type', 'Point']
			});
	map.addSource('associates', {
		'type': 'vector',
		'url':'mapbox://h-warren.6sopx1n7'
	});
	map.addLayer({
			'id': 'Associates',
			'type': 'circle',
			'source': 'associates',
			'source-layer': 'asscPts_prj-1l5sj7',
			'layout': {
				'visibility': 'visible',
			},
			'paint': {
				'circle-color': 'orange',
				'circle-radius': {
					'base':2,
					'stops': [[5, 1.5],[12,3]]
				},
				'circle-opacity': 0.5
			},
			'filter': ['==', '$type', 'Point']
	});

	map.addSource('graduate',{
		'type': 'vector',
		'url': 'mapbox://h-warren.7vx43mov'
	});
	map.addLayer({
			'id': 'Graduate/Professional',
			'type': 'circle',
			'source': 'graduate',
			'source-layer':'gradPts_prj-7u9u2v',
			'layout': {
				'visibility':'visible'
			},
			'paint': {
				'circle-color': 'green',
				'circle-radius': {
					'base': 2,
					'stops': [[5,1.5],[12,3]]
				},
				'circle-opacity': 0.5
			},
			'filter': ['==', '$type', 'Point']
	});
	map.addSource('highschool', {
		'type': 'vector',
		'url': 'mapbox://h-warren.1jkdzwyj'
	});
	map.addLayer({
			'id': 'High School',
			'type': 'circle',
			'source': 'highschool',
			'source-layer': 'hsPts_prj-0nnxnm',
			'paint': {
				'circle-color': 'gray',
				'circle-radius': {
					'base': 2,
					'stops': [[5,1.5], [12,3]]
				},
				'circle-opacity': 0.5
			},
			'filter': ['==', '$type', 'Point'],

	}, 'waterway-label');

	// enumerate ids of the layers


	var toggleableLayerIds = ["High School", "Associates", "Bachelors", "Graduate/Professional"];


	for 	(var i = 0; i < toggleableLayerIds.length; i++) {
				 var id = toggleableLayerIds[i];

				 var link = document.createElement('a');
	 		 		link.href = '#';
	 				link.className = 'active';
	 				link.textContent = id;

					link.onclick = function (e) {
							var clickedLayer = this.textContent;
							e.preventDefault();
							e.stopPropagation();

						 var visibility = map.getLayoutProperty(clickedLayer, 'visibility');

						  // toggle layer visibility by changing the layout object's visibility property

							if (visibility === 'visible') {
										map.setLayoutProperty(clickedLayer, 'visibility', 'none');
										this.className = '';
								} else {
										this.className = 'active';
										map.setLayoutProperty(clickedLayer, 'visibility', 'visible');
								}
							};

		var layers = document.getElementById('menu');
		layers.appendChild(link);


		}
	});


</script>






  </body>
</html>
